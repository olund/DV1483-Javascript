(function($){$.fn.lazyLoadImages=function(threshold,callback){var ATTRIBUTE="data-src",images=this,loaded;threshold=threshold||0,this.one("lazyLoadImages",function(){var source=this.getAttribute(ATTRIBUTE);if(source){this.setAttribute("src",source);if(typeof callback==="function"){callback.call(this);}}else{console.log("Missing "+ATTRIBUTE+" on <img>");}});function lazyLoadImages(){var imagesInView=images.filter(function(){var scrollTopPos=$(window).scrollTop(),windowB=scrollTopPos+$(window).height(),elementTopPos=$(this).offset().top,elementB=elementTopPos+$(this).height();if(elementB>=(scrollTopPos-threshold)&&elementTopPos<=(windowB+threshold)){console.log("scrollTopPos",scrollTopPos);console.log("windowB: ",windowB);console.log("elementTopPos: ",elementTopPos);console.log("elementB: ",elementB);console.log("THIS.height()",$(this).height());console.log("elementB >= (scrollTopPos - threshold) && elementTopPos <= (windowB + threshold)",elementB>=(scrollTopPos-threshold)&&elementTopPos<=(windowB+threshold));return true;}
return false;});loaded=imagesInView.trigger("lazyLoadImages");images=images.not(loaded);}
$(window).on("scroll.lazyLoadImages resize.lazyLoadImages lookup.lazyLoadImages",lazyLoadImages);lazyLoadImages();return this;};})(jQuery);